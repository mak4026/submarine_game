# submarine_game
人やAIが対戦できる潜水艦ゲーム。  
クライアントプログラム作成用の詳しい仕様は[こちら](/document.md)  

## 実行
まずポート番号を指定してサーバを起動する。
```
$ ruby server.rb 2000
```
サーバをつけたら、アドレスとポート番号を指定してクライアントを起動する。
```
$ ruby random_player.rb localhost 2000
```
二つクライアントプログラムが繋がったらゲームが開始する。  
人間プレイ用に[manual_player.rb](manual_player.rb)が用意してある。ターミナル上でキー入力をして行動を指示する。以下のような感じなのでターミナルを広めにして起動したほうが良い。  
マスには艦の種類のアルファベット1文字と、残りHPが表示される。自分あるいは相手が攻撃したマスには!がつく。その他相手の行動やHPなどの情報はテキストで出力される。
```
$ ruby manual_player.rb localhost 2000
you are connected. please send me initial state.
please input x, y in 0 ~ 4
w
x = 0
y = 0
c
x = 4
y = 4
s
x = 2
y = 2
   | 0 | 1 | 2 | 3 | 4 |
------------------------
 0 | w3|   |   |   |   |
------------------------
 1 |   |   |   |   |   |
------------------------
 2 |   |   | s1|   |   |
------------------------
 3 |   |   |   |   |   |
------------------------
 4 |   |   |   |   | c2|
------------------------

waiting
enemy attacked [3, 4] near ["c"]
enemy ships: w:3 c:2 s:1 
   | 0 | 1 | 2 | 3 | 4 |
------------------------
 0 | w3|   |   |   |   |
------------------------
 1 |   |   |   |   |   |
------------------------
 2 |   |   | s1|   |   |
------------------------
 3 |   |   |   |   |   |
------------------------
 4 |   |   |   |!  | c2|
------------------------

your turn
select your action:
m: move
a: attack
please input "a" or "m"
a
x = 3
y = 3
you attacked [3, 3] near ["w", "c"]
enemy ships: w:3 c:2 s:1 
   | 0 | 1 | 2 | 3 | 4 |
------------------------
 0 | w3|   |   |   |   |
------------------------
 1 |   |   |   |   |   |
------------------------
 2 |   |   | s1|   |   |
------------------------
 3 |   |   |   |!  |   |
------------------------
 4 |   |   |   |   | c2|
------------------------

```
